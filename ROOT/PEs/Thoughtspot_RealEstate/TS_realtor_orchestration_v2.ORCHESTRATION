{"job":{"components":{"70926":{"id":70926,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":-144,"y":48,"width":32,"height":32,"inputConnectorIDs":[70947],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[70945],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"realestate_structured"}}}},"visible":true},"2":{"slot":2,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"3":{"slot":3,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"4":{"slot":4,"name":"New Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"realestate_structured"}}}},"visible":true},"5":{"slot":5,"name":"Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"city"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"county"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"lon"},"2":{"slot":2,"type":"STRING","value":"FLOAT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"postal_code"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"street_suffix"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"line"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"lat"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"neighborhood_name"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"state_code"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"street"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"street_number"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"unit"},"2":{"slot":2,"type":"STRING","value":"VARIANT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"13":{"slot":13,"values":{"1":{"slot":1,"type":"STRING","value":"baths"},"2":{"slot":2,"type":"STRING","value":"NUMBER"},"3":{"slot":3,"type":"INTEGER","value":"38"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"14":{"slot":14,"values":{"1":{"slot":1,"type":"STRING","value":"baths_half"},"2":{"slot":2,"type":"STRING","value":"VARIANT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"15":{"slot":15,"values":{"1":{"slot":1,"type":"STRING","value":"beds"},"2":{"slot":2,"type":"STRING","value":"VARIANT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"16":{"slot":16,"values":{"1":{"slot":1,"type":"STRING","value":"last_update"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"17":{"slot":17,"values":{"1":{"slot":1,"type":"STRING","value":"prop_status"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"18":{"slot":18,"values":{"1":{"slot":1,"type":"STRING","value":"list_date"},"2":{"slot":2,"type":"STRING","value":"VARIANT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"19":{"slot":19,"values":{"1":{"slot":1,"type":"STRING","value":"sold_history"},"2":{"slot":2,"type":"STRING","value":"VARIANT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"20":{"slot":20,"values":{"1":{"slot":1,"type":"STRING","value":"year_built"},"2":{"slot":2,"type":"STRING","value":"VARIANT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"21":{"slot":21,"values":{"1":{"slot":1,"type":"STRING","value":"href"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"22":{"slot":22,"values":{"1":{"slot":1,"type":"STRING","value":"price"},"2":{"slot":2,"type":"STRING","value":"NUMBER"},"3":{"slot":3,"type":"INTEGER","value":"38"},"4":{"slot":4,"type":"INTEGER","value":"0"},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}},"23":{"slot":23,"values":{"1":{"slot":1,"type":"STRING","value":"prop_type"},"2":{"slot":2,"type":"STRING","value":"VARCHAR"},"3":{"slot":3,"type":"INTEGER","value":"16777216"},"4":{"slot":4,"type":"INTEGER","value":""},"5":{"slot":5,"type":"STRING","value":""},"6":{"slot":6,"type":"STRING","value":"No"},"7":{"slot":7,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Create/Replace","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"7":{"slot":7,"name":"Clustering Keys","elements":{},"visible":true},"8":{"slot":8,"name":"Data Retention Time in Days","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true},"9":{"slot":9,"name":"Comment","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true},"11":{"slot":11,"name":"Primary Keys","elements":{},"visible":true},"12":{"slot":12,"name":"Table Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Permanent"}}}},"visible":true},"13":{"slot":13,"name":"Default DDL Collation","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"70927":{"id":70927,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"ITERATE","implementationID":-424773870,"x":0,"y":32,"width":32,"height":16,"inputConnectorIDs":[70948],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[70944],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Grid Iterator 0"}}}},"visible":true},"3":{"slot":3,"name":"Grid Variable","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"zips"}}}},"visible":true},"4":{"slot":4,"name":"Grid Variable Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"codes"},"2":{"slot":2,"type":"STRING","value":"zip_code"}}}},"visible":true},"5":{"slot":5,"name":"Break on Failure","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true},"6":{"slot":6,"name":"Concurrency","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Sequential"}}}},"visible":true},"999":{"slot":999,"name":"Record Values In Task History","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[70901],"inputIterationConnectorIDs":[]},"70928":{"id":70928,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186829,"x":0,"y":-32,"width":32,"height":32,"inputConnectorIDs":[70945],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[70948],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Variables - Set Grid to Env"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"#print(context.getGridVariable('zips')[0][0])\n\n#ziptable1 = 'RealtorAPI-ListSold_Zip'+str(context.getGridVariable('zips')[0][0])\n#print('ziptable1 = '+ziptable1)\n\n#ziptable2 = 'RealtorAPI-ListSold_Zip'+str(context.getGridVariable('zips')[1][0])\n#print('ziptable2 = '+ziptable2)\n\n#RealtorAPI-ListSold_Zip${zip_code}\n\ncontext.updateVariable(\"ziptable1\",\"RealtorAPI-ListSold_Zip\"+str(context.getGridVariable('zips')[0][0]))\nprint('ziptable1 = '+ziptable1)\n                       \ncontext.updateVariable(\"ziptable2\",\"RealtorAPI-ListSold_Zip\"+str(context.getGridVariable('zips')[1][0]))\nprint('ziptable2 = '+ziptable2)                       "}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python 3"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true},"5":{"slot":5,"name":"User","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Restricted"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"70929":{"id":70929,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":160,"y":48,"width":32,"height":32,"inputConnectorIDs":[70946],"outputSuccessConnectorIDs":[70938],"outputFailureConnectorIDs":[70950],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{"1":{"slot":1,"fromId":null,"fromName":"Duration","mapTo":"job_duration"}},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Transform Realtor API Data"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TS_realtor_clean"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"70930":{"id":70930,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSACTION","implementationID":-1540940111,"x":320,"y":-32,"width":32,"height":32,"inputConnectorIDs":[70950],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[70940],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Rollback DML Statements"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"70931":{"id":70931,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-416,"y":48,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[70942],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"70932":{"id":70932,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1043089869,"x":0,"y":64,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"API Extract"}}}},"visible":true},"2":{"slot":2,"name":"API","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Realtor"}}}},"visible":true},"3":{"slot":3,"name":"API Environment","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Production"}}}},"visible":false},"4":{"slot":4,"name":"API Version","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"default"}}}},"visible":false},"5":{"slot":5,"name":"Data Source","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"ListSold_Zip80207"}}}},"visible":true},"6":{"slot":6,"name":"Auth Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":null}}}},"visible":false},"7":{"slot":7,"name":"Api Key","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"8":{"slot":8,"name":"Username","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"9":{"slot":9,"name":"Password","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"10":{"slot":10,"name":"OAuth","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"11":{"slot":11,"name":"Page Limit","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"1"}}}},"visible":true},"12":{"slot":12,"name":"URI Params","elements":{},"visible":true},"13":{"slot":13,"name":"Query Params","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"offset"},"2":{"slot":2,"type":"STRING","value":"0"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"postal_code"},"2":{"slot":2,"type":"STRING","value":"${zip_code}"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"limit"},"2":{"slot":2,"type":"STRING","value":"1000"}}}},"visible":true},"14":{"slot":14,"name":"Header Params","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"x-rapidapi-key"},"2":{"slot":2,"type":"STRING","value":"ffcbe1c542msh9dc112366802618p1962a4jsnc0f8a1c434aa"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"x-rapidapi-host"},"2":{"slot":2,"type":"STRING","value":"realtor.p.rapidapi.com"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"useQueryString"},"2":{"slot":2,"type":"STRING","value":"true"}}}},"visible":true},"15":{"slot":15,"name":"Post Body","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"16":{"slot":16,"name":"Api Key Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"17":{"slot":17,"name":"Api Key Value","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"18":{"slot":18,"name":"Bearer Token","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"PASSWORD","value":""}}}},"visible":false},"113":{"slot":113,"name":"Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"s3://mtln-kareyg"}}}},"visible":true},"114":{"slot":114,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"115":{"slot":115,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"116":{"slot":116,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"117":{"slot":117,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"RealtorAPI-ListSold_Zip${zip_code}"}}}},"visible":true},"118":{"slot":118,"name":"Integration","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[70901]},"70933":{"id":70933,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1859466705,"x":-288,"y":48,"width":32,"height":32,"inputConnectorIDs":[70942],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[70947],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Size Up Warehouse"}}}},"visible":true},"2":{"slot":2,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"3":{"slot":3,"name":"Command Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Set"}}}},"visible":true},"4":{"slot":4,"name":"New name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"5":{"slot":5,"name":"Properties","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"WAREHOUSE_SIZE"},"2":{"slot":2,"type":"STRING","value":"LARGE"}}}},"visible":true},"6":{"slot":6,"name":"Properties","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"70934":{"id":70934,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1859466705,"x":720,"y":48,"width":32,"height":32,"inputConnectorIDs":[70941],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Size Down Warehouse"}}}},"visible":true},"2":{"slot":2,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"3":{"slot":3,"name":"Command Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Set"}}}},"visible":true},"4":{"slot":4,"name":"New name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false},"5":{"slot":5,"name":"Properties","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"WAREHOUSE_SIZE"},"2":{"slot":2,"type":"STRING","value":"SMALL"}}}},"visible":true},"6":{"slot":6,"name":"Properties","elements":{},"visible":false}},"expectedFailure":null,"activationStatus":"DISABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"70935":{"id":70935,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":-1343684451,"x":592,"y":48,"width":32,"height":32,"inputConnectorIDs":[70943,70949],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[70941],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Or"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"70936":{"id":70936,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":448,"y":48,"width":32,"height":32,"inputConnectorIDs":[70938],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[70943],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Send Success Email"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"import email_python_package as email\n\nemail.send_email(\n  'destination'='companyemail@footballbot.com',\n  'subject' = 'Your job was successful!'\n  'body' = 'The job took'+ job_duration + 'seconds to complete.'\n  )\n\nprint(email.statuscode)"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python 3"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"70937":{"id":70937,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":155,"y":-28,"width":32,"height":32,"inputConnectorIDs":[70944],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[70946],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TS_realtor_combine_v2"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TS_realtor_combine_v2"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"70939":{"id":70939,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":438858066,"x":448,"y":-32,"width":32,"height":32,"inputConnectorIDs":[70940],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[70949],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Failure SNS"}}}},"visible":true},"2":{"slot":2,"name":"AWS Region","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"eu-west-1"}}}},"visible":true},"3":{"slot":3,"name":"Topic Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"matillion"}}}},"visible":true},"4":{"slot":4,"name":"Subject","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AWS Notification Message"}}}},"visible":true},"5":{"slot":5,"name":"Message","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Your job is a failure!"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"70938":{"id":70938,"sourceID":70929,"targetID":70936}},"failureConnectors":{"70950":{"id":70950,"sourceID":70929,"targetID":70930}},"unconditionalConnectors":{"70940":{"id":70940,"sourceID":70930,"targetID":70939},"70941":{"id":70941,"sourceID":70935,"targetID":70934},"70942":{"id":70942,"sourceID":70931,"targetID":70933},"70943":{"id":70943,"sourceID":70936,"targetID":70935},"70944":{"id":70944,"sourceID":70927,"targetID":70937},"70945":{"id":70945,"sourceID":70926,"targetID":70928},"70946":{"id":70946,"sourceID":70937,"targetID":70929},"70947":{"id":70947,"sourceID":70933,"targetID":70926},"70948":{"id":70948,"sourceID":70928,"targetID":70927},"70949":{"id":70949,"sourceID":70939,"targetID":70935}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{"70901":{"id":70901,"sourceID":70927,"targetID":70932}},"noteConnectors":{},"notes":{"70920":{"id":70920,"x":254,"y":-70,"width":249,"height":163,"text":"**ERROR HANDLING**","colour":"d60000"},"70922":{"id":70922,"x":262,"y":116,"width":517,"height":460,"text":"**__Talking Points__**\nAt this point our dataset has been flattened, cleaned, and combined via Transformation jobs. We now want to build in Error Handling functionality, which will build in actions in the event our Transformation jobs were to fail.\n\n\n**FAILURE PATH**\n\n**Rollback DML Statement - ROLLBACK Component**\n- This will ensure that any DML statements which came as a result of the Transformation job, which compiles and runs only DML statements, will be rolled back.\n\n**Failure SNS - SNS MESSAGE Component**\n- This component enabled a system of notification to our AWS environment, notifying us that the job has failed.\n\n\n**SUCCESS PATH**\n\n**Send Success Email - PYTHON SCRIPT Component**\n- The Python Script component is a common way for a user to call a Python module and send an email. \n- This component won't actually send an email, it just detailed the structure a user may want to employ to do so.\n\n**Or Component**\n- If either of the components connected to the Or component run successfully, the workflow will continue after the Or component.\n\n**Size Down Warehouse - ALTER WAREHOUSE Component**\n- As the last step of our workflow, this component ensures that the warehouse is sized down, ensuring no wasteful consumption of credits takes place.","colour":"e6e63c"},"70923":{"id":70923,"x":-426,"y":117,"width":544,"height":490,"text":"**__Talking Points__**\nThis flow will allow us to analyze real estate data prices using a variety of techniques. We will utilize Matillion's Create Your Own Connector feature to dynamically make API calls to Realtor.com's Recent Purchases endpoint. After extracting and loading semistructured data for two different zip codes into Snowflake, we will flatten and combine the datasets into a single structured table. A final transformation job will evaluate existing data and create a new field in the resulting dataset. ThoughtSpot will then be used to analyze the data.\n\n**Size Up Warehouse - ALTER WAREHOUSE Component**\n- By increasing WAREHOUSE_SIZE this increases the speed in processing data within Snowflake. Many other properties can be modified from Matillion, which can be found in the Properties option.\n- Users can set up their Matillion job to increase Warehouse size at beginning of job, and either decrease the Warehouse size or shut down the Warehouse to prevent wasteful Snowflake credit spend.\n\n**Create realestate_structured - CREATE TABLE component**\n- This component will create a table with a schema reflective of our dataset extracted from the Realtor API, after it has been flattened to a structured format and combined.\n- Other Snowflake features include: Table Type (Permanent, Temporary, and Transient tables); Clustering keys; Data types specific to Snowflake\n\n**ListSold_Zip80207 & ListSold_Zip80207 - API EXTRACT Component**\n- At this point we have built out the endpoint Matillion will access to extract the real estate data (Project -> Manage Extract Profiles). We will use the component to reference the endpoint and pass parameters to specify the returned dataset.\n- Query Params - this is where we set the **postal_code** query parameter to the first requested zip code.\n- Header Params - we pass our RapidAPI credentials within this property\n- Location - the S3 location where our data will be staged prior to being copied to the Snowflake destination table\n\n**WAIT - And Component**\n- Example of a Flow component. These allow the user to build business rules into their data pipeline\n- The component specifies that all operations connected to And must complete prior to progress to the Transformation job.\n\n**Talking Points will Continue in the** __Combine Realtor Data__ and __Transform Realtor Data__ **transformation jobs**","colour":"e6e63c"},"70924":{"id":70924,"x":-63,"y":-69,"width":130,"height":167,"text":"**EXTRACT & LOAD**","colour":"f9c21b"},"70925":{"id":70925,"x":81,"y":-74,"width":154,"height":171,"text":"**COMBINE & TRANSFORM DATA**","colour":"00ce4f"}},"variables":{"job_duration":{"definition":{"name":"job_duration","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""},"zip":{"definition":{"name":"zip","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":""}},"grids":{"realtor_query":{"definition":{"name":"realtor_query","scope":"TASKBATCH","definitions":[{"name":"limit","type":"TEXT"},{"name":"postal_code","type":"TEXT"},{"name":"offset","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[{"values":["1000","80206","0"]},{"values":["1000","80207","0"]}]},"zips":{"definition":{"name":"zips","scope":"TASKBATCH","definitions":[{"name":"codes","type":"TEXT"}],"description":"","visibility":"PUBLIC"},"values":[{"values":["11219"]},{"values":["11216"]}]}}},"info":{"name":"TS_realtor_orchestration_v2","description":"","type":"ORCHESTRATION","tag":"2eda5174-95ed-42df-ae2c-cf537decb089"}}