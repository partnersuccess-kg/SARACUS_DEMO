{"job":{"components":{"69688":{"id":69688,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":-306,"y":24,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[69690],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"69691":{"id":69691,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186960,"x":-139,"y":27,"width":32,"height":32,"inputConnectorIDs":[69690],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python Script 0"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\nfrom java.lang import Class,String\nfrom java.lang import ClassLoader\nfrom java.net import URLClassLoader,URL\nfrom java.sql import DriverManager\nfrom jarray import zeros, array\n\n#MODIFY THIS SECTION to set the details for your SAP environment\n\nhostname = '34.253.154.72'\nuser = 'username'\npassword = 'password'\nclient = '001'\ntablesToCreate='table1,table2,table3'\n\n\n#DONT MODIFY BELOW\n\nrtk = \"525952425641535552425641454E54503156474A3138323200\" + \"000000000000000000000000000000575041313342344B00004359343253553357314454360000\"\n\ntables = tablesToCreate.split(\",\")\n\nmyarray = array([URL(\"file:///usr/share/java/cdata/cdata.jdbc.sap/16.0.6165.0/cdata.jdbc.sap-16.0.6165.0.jar\")], URL)\n\nloader = URLClassLoader(myarray, ClassLoader.getSystemClassLoader());\n\n\nClass.forName(\"cdata.jdbc.sap.SAPDriver\",True, loader)\nconnectionString = \"jdbc:sap:Host=\"+hostname+\";User=\"+user+\";Password=\"+password+\";Client=\"+client+\";Location=/usr/share/tomcat8/api_profiles/SAP/;rtk=\"+rtk;\nconn = DriverManager.getConnection(connectionString)\n\nfor t in tables:\n  cstmt = conn.prepareCall(\"CreateTableSchema\")\n  cstmt.setString(\"Table\", t)\n  ret = cstmt.execute() \n  if not ret:\n      count=cstmt.getUpdateCount()\n      if (count!=-1):\n          print(count+\" rows are affected\")\n  else:\n      rs=cstmt.getResultSet()\n      while rs.next():\n          i=1\n          while i <= rs.getMetaData().getColumnCount():\n              print(rs.getMetaData().getColumnName(i) +\"=\"+rs.getString(i))\n              i=i+1\n      rs.close\n  cstmt.close\n\nconn.close"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{},"failureConnectors":{},"unconditionalConnectors":{"69690":{"id":69690,"sourceID":69688,"targetID":69691}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{},"variables":{},"grids":{}},"info":{"name":"SAP NetWeaver Import New Tables","description":"Run the Python script to include new tables in the data source drop down in the SAP NetWeaver Component. Please see support centre for further details on this.","type":"ORCHESTRATION","tag":"83fecb89-c07c-422f-9a0c-daf71ec3c019"}}